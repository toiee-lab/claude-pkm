# Claude PKM (Personal Knowledge Management)

このプロジェクトは、Claude Project 機能を効果的に活用するためのドキュメント管理システムです。ベストプラクティスに従って、ドキュメント作成、ファイル名、フォルダ名作成、ファイル分割を行うことを支援する。

## ベストプラクティス

To get the most out of your RAG-enabled projects:

### Upload comprehensive content

- Add all relevant documents and files to your project upfront. The more context Claude has access to, the better it can assist you.

## Use clear, descriptive filenames

- Well-named files help Claude understand and retrieve the right information more effectively.

## Organize related content together
- Group related documents in the same project to enable Claude to draw connections between different sources.

## Reference specific documents

- When asking questions, you can reference specific documents by name to help Claude focus its search.

## ディレクトリ構造

```
claude-pkm/
├── profile/          # 個人プロファイル（自己紹介、作業スタイル、コミュニケーション設定）
├── projects/         # プロジェクト別のコンテキストをフォルダに分けて入れる
├── knowledge/        # ナレッジベース（特定分野の専門的な知識などをフォルダに分けて格納）
└── instructions/     # Claude への指示（一般指示、タスク別指示、文章のトーンサンプルなど）
```

## ファイル命名規則

- **形式**: 小文字ケバブケース（例: `my-document.md`）
- **言語**: 英語のみ
- **拡張子**: `.md`（Markdown）
- **命名方法**: ファイル名から内容が推測できるようにファイル名をつける

## ドキュメント構造ルール

1. **H1 タイトル必須**: 各ドキュメントは必ず `# タイトル` で始める
2. **見出し階層**: H1 → H2 → H3 の順で使用（スキップしない）
3. **概要セクション**: タイトル直後に概要を記述
4. **セクション区切り**: 適切な見出しでセクションを分割

## 機能（自然言語リクエスト対応）

ユーザーが自然言語でリクエストするだけで、以下の機能を実行します。

### 1. ドキュメント作成

**トリガー**: 「[カテゴリ]のドキュメントを作成」「新しい[カテゴリ]ドキュメント」など

**実行手順**:

1. **カテゴリ判定**: リクエストから以下のカテゴリを特定
   - `profile`: プロファイル（個人情報、作業スタイル、会社情報、チーム情報など）
   - `project`: プロジェクト用（プロジェクトごとにフォルダを作成）
   - `knowledge`: ナレッジ（技術知識、ドメイン知識）
   - `instruction`: Claude への指示

2. **フォルダ作成判定**: 要求に応えるためにフォルダが必要か判定
   - 作成しようとしているドキュメントが、新しいフォルダを必要とするか判定
   - 必要ならば、ユーザーの「作成して良いか？」確認する

3. **ファイル名確認**: ユーザーにファイル名を確認
   - 小文字ケバブケース（例: `my-document`）
   - `.md` 拡張子は自動付与
   - 既存ファイルと重複しないものを提案する

4. **配置先決定**:
   - `profile` → `/profile/[ファイル名].md`
   - `project` → `/projects/[プロジェクト名]/[ファイル名].md`
   - `knowledge` → `/knowledge/[ナレッジ名/`
   - `instruction` → `/instructions/[ファイル名].md`

5. **ファイル作成**: 指定された場所に新規ファイルを作成
   - [ベストプラクティス](#ベストプラクティス) に従って作成する

6. **次のステップ案内**: 作成後、ユーザーに次のアクションを提案
   - 内容の記述
   - レビューの実施

**エラーハンドリング**:
- 同名ファイル存在: 上書き確認または別名提案
- 不正なカテゴリ: 正しいカテゴリ（profile/project/knowledge/instruction）を案内
- テンプレート不在: エラーメッセージと原因を説明

### 2. ドキュメントレビュー

**トリガー**: 「[ファイル]をレビュー」「ドキュメントの品質チェック」など

**実行手順**:

1. **対象ファイル特定**:
   - 引数でファイルパスが指定されている場合: そのファイルを使用
   - 指定なしの場合: ユーザーに選択を促す（最近更新されたファイルを提案）

2. **ドキュメント読み込み**: 対象ファイルの内容を読み込む

3. **5観点スコアリング**（各10点満点）:

   **完全性（10点満点）**:
   - H1タイトルが存在する（2点）
   - メタデータセクション（更新日、カテゴリ）が存在する（2点）
   - 必須セクション（概要、詳細）が存在する（3点）
   - プレースホルダー（`[...]`）が残っていない（2点）
   - セクションに実質的な内容がある（1点）

   **正確性（10点満点）**:
   - 更新日が正しい形式（YYYY-MM-DD）（2点）
   - カテゴリが正しい（profile/project/knowledge/instruction）（2点）
   - 記述内容に矛盾がない（3点）
   - 具体的な情報が含まれている（抽象的すぎない）（3点）

   **明確性（10点満点）**:
   - 見出し階層が適切（H1→H2→H3、スキップなし）（2点）
   - 概要が簡潔で分かりやすい（2点）
   - 専門用語に説明がある（2点）
   - 段落が適切な長さ（長すぎない）（2点）
   - 論理構造が明確（2点）

   **一貫性（10点満点）**:
   - ファイル名が小文字ケバブケース（2点）
   - 見出しスタイルが統一されている（2点）
   - リスト記法が統一されている（2点）
   - 他のドキュメントとの整合性（2点）
   - テンプレート構造に従っている（2点）

   **Claude最適化（10点満点）**:
   - Claude が理解しやすい構造（2点）
   - 相対参照（「前述」「上記」）を避けている（2点）
   - 自己完結的な内容（外部参照が最小限）（2点）
   - 冗長性がない（2点）
   - 適切な長さ（500-2000文字程度）（2点）

4. **レポート出力**:
   ```
   ## ドキュメントレビュー結果

   **ファイル**: [ファイルパス]
   **総合スコア**: [合計点]/50

   | 観点 | スコア | 詳細 |
   |------|--------|------|
   | 完全性 | X/10 | [問題点] |
   | 正確性 | X/10 | [問題点] |
   | 明確性 | X/10 | [問題点] |
   | 一貫性 | X/10 | [問題点] |
   | Claude最適化 | X/10 | [問題点] |
   ```

5. **改善提案**: 具体的な改善項目をリストアップ
   - 優先度の高い項目から順に記載
   - 具体的な修正案を提示

6. **次のアクション提案**:
   - **45-50点**: そのまま使用可能、Claude Projectへの取り込みOK
   - **35-44点**: 軽微な改善を推奨（手動修正可能）
   - **25-34点**: ドキュメント最適化が必要（最適化機能の使用を提案）
   - **0-24点**: 再作成を推奨（テンプレートからやり直し）

### 3. ドキュメント最適化

**トリガー**: 「[ファイル]を最適化」「Claude Projectに最適化」「ドキュメントの整理」など

**実行手順**:

1. **対象ファイル特定**: レビューと同様の方法でファイルを特定

2. **ドキュメント分析**: ファイルの内容を読み込み、問題点を検出。

3. **最適化チェックリスト実行**:

   **構造チェック**:
   - [ ] H1タイトルが1つだけ存在する
   - [ ] 見出し階層が正しい（H1→H2→H3、スキップなし）
   - [ ] 概要セクションがタイトル直後にある
   - [ ] メタデータセクションが存在する（更新日、カテゴリ）
   - [ ] セクションが適切に分割されている

   **可読性チェック**:
   - [ ] 段落が適切な長さ（3-5文程度）
   - [ ] リストや表を適切に使用している
   - [ ] コードブロックにシンタックスハイライトがある
   - [ ] 箇条書きが統一されている（`-` または `1.`）
   - [ ] 空行が適切に配置されている

   **Claude最適化チェック**:
   - [ ] 代名詞（「これ」「それ」）が明確である
   - [ ] 相対参照（「前述」「上記」）を使っていない
   - [ ] コンテキストが自己完結している
   - [ ] 冗長な表現がない
   - [ ] 相互参照が明確（具体的な見出し名で参照）
   - [ ] ファイルサイズが適切（500-2000文字）

   **ベストプラクティスからの全体フィードバック**
   - [ベストプラクティス](#ベストプラクティス) の観点から、アドバイスをわかりやすい文章でフィードバックする

4. **問題ごとに修正案提示**:
   ```
   ### 問題1: 見出し階層のスキップ
   **現状**: H1 → H3（H2がスキップされている）
   **提案**: H2レベルの見出しを追加
   **理由**: 見出し階層の一貫性により、Claudeが構造を理解しやすくなる
   ```

5. **自動修正オプション**: ユーザーに承認を求め、承認後に修正を適用

6. **修正後の差分表示**: 変更内容を明示

7. **再レビュー推奨**: 最適化後、レビュー機能で品質を再確認することを提案

**ベストプラクティス**:
- **避けるべき**: 相対参照、長い段落（10文以上）、深い入れ子（3階層以上）、曖昧な代名詞
- **推奨**: 具体的な見出し参照、箇条書き、表形式、自己完結的な説明
- **ファイルサイズ目安**: 500-2000文字（長い場合は複数ファイルへの分割を検討）

## ワークフロー

### 新規ドキュメント作成

1. 「私についてのドキュメントを作成して」とリクエスト
2. ファイル名を確認し、内容を記述（内容が示されていない場合、質問を行う）
3. 「このドキュメントをレビューして」とリクエスト
4. 必要に応じて「ドキュメントを最適化して」とリクエスト
5. Claude Project に取り込み

### ドキュメント更新

1. 該当ドキュメントを編集
2. 「[ファイル]をレビューして」とリクエスト
3. 「同期状態を確認して」とリクエスト
4. 必要に応じて Claude Project を更新

## Claude Project への取り込み

このリポジトリのドキュメントを Claude Project に取り込む際は、以下を推奨：

- `profile/` 内の全ファイル
- `projects/` から関連するファイル
- `instructions/general-instructions.md`
- 必要な `knowledge/` 内のファイル
